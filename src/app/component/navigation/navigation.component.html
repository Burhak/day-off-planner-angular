<header>
  <nav>
    <div class="desktopView">
      <img src="../../assets/images/logo_dark.png" class="logo" routerLink="">
      <mat-menu #userMenu="matMenu" xPosition="before">
        <div class="userInfo" (click)="openUserProfile()">
          <img src="../../assets/images/userIcon_light.png" class="userImg">
          <h3>{{userService.currentUser?.firstName}} {{userService.currentUser?.lastName}}</h3>
          <h5>{{userService.currentUser?.email}}</h5>
        </div>
        <div>
          <button mat-menu-item routerLink="/changePassword">Change password</button>
          <button mat-menu-item (click)="logOut()" class="biggerSize"><strong>Logout</strong></button>
        </div>
      </mat-menu>

      <mat-menu #adminMenu="matMenu" xPosition="after">
          <div class="adminPanelTitle">
            <h2>Admin panel</h2>
          </div>
          <button mat-menu-item routerLink="/admin/userList">Users</button>
          <button mat-menu-item routerLink="/admin/leaveTypes">Leave types</button>
          <button mat-menu-item routerLink="/admin/settings">Settings</button>
      </mat-menu>

      <ul>
        <li [matMenuTriggerFor]="adminMenu" *ngIf="userService.hasAdminPrivileges" >
          <span class="biggerSize">Admin</span>
        </li>
        <li routerLink="/dashboard" >
          <span [matBadge]="pendingRequestsToApprove" matBadgeOverlap="false" matBadgeColor="warn" [matBadgeHidden]="pendingRequestsToApprove===0" class="biggerSize">Dashboard</span>
        </li>

        <li [matMenuTriggerFor]="userMenu" class="marginLeft">
          <span class="name">{{userService.currentUser?.firstName}} {{userService.currentUser?.lastName}}</span>
          <img src="../../assets/images/userIcon_light.png" class="userIcon">
        </li>
      </ul>
    </div>

    <div class="mobileView">
      <img src="../../assets/images/logo_dark.png" class="logo" routerLink="">

      <mat-menu #mobileMenu="matMenu" xPosition="before">
        <div class="userInfo" (click)="openUserProfile()">
          <img src="../../assets/images/userIcon_light.png" class="userImg">
          <div>
            <h3>{{userService.currentUser?.firstName}} {{userService.currentUser?.lastName}}</h3>
            <h5>{{userService.currentUser?.email}}</h5>
          </div>
        </div>

        <button mat-menu-item routerLink="/dashboard">
          <span [matBadge]="pendingRequestsToApprove" matBadgeOverlap="false" matBadgeColor="warn" [matBadgeHidden]="pendingRequestsToApprove===0" class="biggerSize">Dashboard</span>
        </button>

        <div class="mobileMenuSection">
          <h3 class="mobileSectionTitle">Admin panel</h3>
          <button mat-menu-item routerLink="/admin/userList" class="noMargin">Users</button>
          <button mat-menu-item routerLink="/admin/leaveTypes" class="noMargin">Leave types</button>
          <button mat-menu-item routerLink="/admin/settings" class="noMargin">Settings</button>
        </div>

        <div>
          <button mat-menu-item routerLink="/changePassword" class="smallHeight">Change password</button>
          <button mat-menu-item (click)="logOut()" class="biggerSize noTopMargin"><strong>Logout</strong></button>
        </div>
      </mat-menu>

      <ul>
        <li [matMenuTriggerFor]="mobileMenu" class="marginLeft">
          <img src="../../assets/images/menu_icon.png" class="menuIcon">
        </li>
      </ul>

    </div>
  </nav>
</header>
